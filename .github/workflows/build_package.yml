name: Compile & Package

on:
  workflow_dispatch:

jobs:
  build-package:
    runs-on: ubuntu-20.04
    env:
      ROOT_DIR=$PWD
      BUILD_DIR=$PWD/build
    steps:
    - name: checkout
      uses: actions/checkout@v3

    - name: pre-requisite installation
      run: |
        sudo apt-get update
        sudo apt-get install tree autotools-dev autoconf automake libtool pkg-config cmake texinfo texlive

    - name: Folders listing
      run: |
        echo $PWD
        ls -ls
        cd ..
        echo $PWD
        echo $ROOT_DIR
        ls -ls
        tree -a
        env
        gcc --version

    - name: Building
      run: |
        gcc -o $BUILD_DIR/test entry.c
      
